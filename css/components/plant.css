/* plant.css
 * 3D CSS Plant decoration for main menu
 * Positioned to the left of the drawer navigation
 */

/* ==================== Plant Scene Container ==================== */
.plant-scene {
  --plant-scale: 0.38;
  --plant-offset-x: 24vmin;
  --plant-offset-y: 6vmin;
  --pot-one: hsl(28, 18%, 28%);
  --pot-two: hsl(28, 18%, 22%);
  --pot-three: hsl(28, 18%, 18%);
  
  position: absolute;
  left: 50%;
  top: 50%;
  transform-style: preserve-3d;
  transform: translate3d(calc(var(--plant-offset-x) * -1), var(--plant-offset-y), 40vmin)
    rotateX(-24deg) rotateY(32deg) scale(var(--plant-scale));
  z-index: 0;
  opacity: 0;
  transition: opacity 0.8s ease, transform 0.6s ease;
  pointer-events: none;
}

.drawer-nav.visible ~ .plant-scene,
.plant-scene.visible {
  opacity: 1;
}

/* ==================== Cuboid Base Styles ==================== */
.plant-cuboid {
  --width: 10;
  --height: 10;
  --depth: 10;
  
  height: calc(var(--depth) * 1vmin);
  width: calc(var(--width) * 1vmin);
  position: relative;
  transform-style: preserve-3d;
}

.plant-pot {
  filter: drop-shadow(0 6px 10px rgba(0, 0, 0, 0.35));
}

.plant-cuboid .cuboid__side {
  position: absolute;
  transform-style: preserve-3d;
}

/* Front face */
.plant-cuboid .cuboid__side:nth-of-type(1) {
  height: calc(var(--height) * 1vmin);
  width: 100%;
  transform-origin: 50% 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotateX(-90deg) translate3d(0, 0, calc((var(--depth) / 2) * 1vmin));
  background: var(--pot-three);
}

/* Back face */
.plant-cuboid .cuboid__side:nth-of-type(2) {
  height: calc(var(--height) * 1vmin);
  width: 100%;
  transform-origin: 50% 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotateX(-90deg) rotateY(180deg) translate3d(0, 0, calc((var(--depth) / 2) * 1vmin));
  background: var(--pot-one);
}

/* Right face */
.plant-cuboid .cuboid__side:nth-of-type(3) {
  height: calc(var(--height) * 1vmin);
  width: calc(var(--depth) * 1vmin);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotateX(-90deg) rotateY(90deg) translate3d(0, 0, calc((var(--width) / 2) * 1vmin));
  background: var(--pot-two);
}

/* Left face */
.plant-cuboid .cuboid__side:nth-of-type(4) {
  height: calc(var(--height) * 1vmin);
  width: calc(var(--depth) * 1vmin);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotateX(-90deg) rotateY(-90deg) translate3d(0, 0, calc((var(--width) / 2) * 1vmin));
  background: var(--pot-one);
}

/* Top face */
.plant-cuboid .cuboid__side:nth-of-type(5) {
  height: calc(var(--depth) * 1vmin);
  width: calc(var(--width) * 1vmin);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) translate3d(0, 0, calc((var(--height) / 2) * 1vmin));
  background: #24201b;
  border: 0.9vmin solid var(--pot-one);
  box-sizing: border-box;
}

/* Bottom face */
.plant-cuboid .cuboid__side:nth-of-type(6) {
  height: calc(var(--depth) * 1vmin);
  width: calc(var(--width) * 1vmin);
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) translate3d(0, 0, calc((var(--height) / 2) * -1vmin)) rotateX(180deg);
  background: var(--pot-one);
}

/* ==================== Plant Leaves ==================== */
.plant {
  height: 5vmin;
  width: 5vmin;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate3d(-50%, -50%, 5vmin);
  transform-style: preserve-3d;
}

.plant-leaf {
  position: absolute;
  left: 50%;
  bottom: 0;
  width: 10vmin;
  height: 12vmin;
  transform-origin: 50% 100%;
  transform: translate(-50%, 0) rotateX(-90deg) translate3d(0, 0, -2.6vmin) rotateY(var(--rotate, 0deg));
  background: linear-gradient(135deg, #4c6b4f 0%, #2f4a33 55%, #223623 100%);
  clip-path: polygon(50% 0%, 80% 20%, 100% 60%, 80% 100%, 50% 85%, 20% 100%, 0% 60%, 20% 20%);
  opacity: 0.82;
}

.plant-leaf::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 10%;
  width: 1px;
  height: 70%;
  background: linear-gradient(to bottom, #3f5d3f, #2a4a31);
  transform: translateX(-50%);
}

.plant-leaf:nth-of-type(1) {
  --rotate: 0deg;
  height: 12vmin;
}

.plant-leaf:nth-of-type(2) {
  --rotate: 72deg;
  height: 10vmin;
}

.plant-leaf:nth-of-type(3) {
  --rotate: 144deg;
  height: 14vmin;
}

.plant-leaf:nth-of-type(4) {
  --rotate: 216deg;
  height: 11vmin;
}

.plant-leaf:nth-of-type(5) {
  --rotate: 288deg;
  height: 9vmin;
}

/* ==================== Subtle Animation ==================== */
@keyframes plant-sway {
  0%, 100% {
    transform: translate3d(-50%, -50%, 5vmin) rotateZ(-1deg);
  }
  50% {
    transform: translate3d(-50%, -50%, 5vmin) rotateZ(1deg);
  }
}

.plant {
  animation: plant-sway 6s ease-in-out infinite;
}

/* ==================== Responsive Adjustments ==================== */
@media (max-width: 768px) {
  .plant-scene {
    --plant-scale: 0.32;
    --plant-offset-x: 20vmin;
    --plant-offset-y: 7vmin;
  }
}

@media (max-width: 480px) {
  .plant-scene {
    display: none;
  }
}
